{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "sprint-status",
  "title": "Sprint Status File",
  "description": "Schema for validating sprint-status.yaml files",
  "type": "object",
  "required": ["generated"],
  "properties": {
    "generated": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}(T[0-9]{2}:[0-9]{2}:[0-9]{2}Z)?$",
      "description": "Generation timestamp"
    },
    "project": {
      "type": "string",
      "description": "Project name"
    },
    "module": {
      "type": "string",
      "description": "Module name"
    },
    "category": {
      "type": "string",
      "description": "Category name"
    },
    "epic_status": {
      "type": "object",
      "description": "Map of epic IDs to their status",
      "additionalProperties": {
        "type": "string",
        "enum": ["backlog", "active", "done", "pending-revision", "ready-for-review"]
      }
    },
    "development_status": {
      "oneOf": [
        { "type": "null" },
        {
          "type": "object",
          "description": "Map of story IDs to their status",
          "additionalProperties": {
            "type": "string",
            "enum": ["backlog", "drafted", "ready-for-dev", "in-progress", "review", "done"]
          }
        }
      ]
    }
  }
}
