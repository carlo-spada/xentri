# Example Requirement File (ADR-020 Sibling Dependency Law)
#
# This file demonstrates the requirement format with:
# - Hierarchical ID encoding ancestry
# - Single-parent inheritance
# - Sibling-only dependencies
# - Inherited interface access
#
# See: docs/platform/architecture/adr-020-sibling-dependency-law.md

# ============================================================================
# IDENTITY
# ============================================================================
id: SYS-002-STR-001-PUL-001
type: FR
title: 'Real-time Metrics Dashboard'
status: draft

# ============================================================================
# INHERITANCE (Single Parent)
# ============================================================================
# The parent is derived from the ID, but explicit for clarity.
# SYS-002-STR-001-PUL-001 â†’ parent is SYS-002-STR-001
parent: SYS-002-STR-001

# Full ancestry chain (auto-generated from ID parsing, read-only in practice)
ancestry:
  - SYS # Constitution (root)
  - SYS-002 # Strategy Category
  - SYS-002-STR-001 # Pulse Subcategory

# ============================================================================
# SIBLING DEPENDENCIES
# ============================================================================
# ONLY interfaces from siblings (same parent) can be declared here.
# This requirement's parent is SYS-002-STR-001 (Pulse subcategory).
# So we can only depend on other Pulse-level interfaces.
requires_interfaces:
  - id: IC-STR-002 # Strategy Event Bus (sibling at STR level)
    reason: 'Subscribe to business metric events from Strategy domain'

# ============================================================================
# INHERITED ACCESS
# ============================================================================
# These interfaces are accessible because an ANCESTOR declared the dependency.
# This section is COMPUTED (read-only) - you don't declare these, the system
# computes them from ancestor dependencies.
inherited_interfaces:
  - id: IC-SHL-001 # Shell Navigation
    inherited_from: SYS-002 # Strategy category declared this
  - id: IC-SHL-003 # Shell Rendering
    inherited_from: SYS-002 # Strategy category declared this
  - id: IC-API-001 # Core API Authentication
    inherited_from: SYS # Constitution declared this

# ============================================================================
# PROVIDES INTERFACES
# ============================================================================
# Interfaces this requirement makes available to siblings
provides_interfaces:
  - IC-PUL-001 # Pulse Dashboard API

# ============================================================================
# THE ACTUAL REQUIREMENT
# ============================================================================
description: |
  The Pulse dashboard displays real-time business metrics with configurable
  refresh intervals and drill-down capability.

  **User Story:**
  As a Strategy category user, I want to see real-time business metrics
  so that I can make informed decisions quickly.

  **Technical Notes:**
  - Connects to Strategy Event Bus (IC-STR-002) for metric updates
  - Renders within Shell navigation (inherited IC-SHL-001)
  - Uses Shell rendering components (inherited IC-SHL-003)
  - Authenticates via Core API (inherited IC-API-001)

acceptance_criteria:
  - Metrics refresh within 2 seconds of source event
  - Dashboard loads in under 500ms on 3G connection
  - Supports 50+ concurrent viewers per organization
  - Drill-down navigation works without page reload
  - Respects user's timezone preferences for all timestamps

# ============================================================================
# METADATA
# ============================================================================
created_at: '2025-12-03'
updated_at: '2025-12-03'
author: 'Strategy Team'
