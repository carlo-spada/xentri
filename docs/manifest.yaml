# Xentri Documentation Manifest
# This file is the source of truth for navigating the documentation hierarchy.
# AI agents should read this file first to understand the documentation structure.
#
# Structure: docs/{category}/{subcategory}/{module}/
# Each subcategory follows full BMAD project structure with optional modules.

version: "2.0"
last_updated: "2025-11-29"
project: Xentri

# =============================================================================
# HIERARCHY DEFINITIONS
# =============================================================================
#
# Category: Major domain of business value (e.g., platform, strategy, sales)
# Sub-category: Capability area with its own product strategy (has PRD, architecture)
# Module: Smallest unit of implementation and billing within a sub-category
#
# Meta designation: Internal infrastructure, not user-facing
# - All of Platform is meta
# - User-facing categories (strategy, marketing, etc.) are NOT meta

# =============================================================================
# CATEGORIES
# =============================================================================

categories:
  # ---------------------------------------------------------------------------
  # META CATEGORY: Platform (Internal Infrastructure)
  # ---------------------------------------------------------------------------
  platform:
    purpose: "Core infrastructure for all categories"
    meta: true
    subcategories:
      orchestration:
        purpose: "Cross-cutting concerns, big picture, system coherence"
        meta: true
        type: meta  # Not an SPA
        modules: []  # No implementation modules, just docs
        key_files:
          - architecture.md
          - prd.md
          - product-brief.md
          - deployment-plan.md
          - incident-response.md

      infrastructure:
        purpose: "Events, authentication, billing, brief system"
        meta: true
        type: meta
        modules:
          - name: events
            purpose: "Event Spine and Operational Pulse"
            status: planned
          - name: auth
            purpose: "Authentication and permissions"
            status: planned
          - name: billing
            purpose: "Subscription and payment processing"
            status: planned
          - name: brief
            purpose: "Brief system storage and synthesis"
            status: planned

      frontend:
        purpose: "User interface layer"
        meta: true
        type: meta
        modules:
          - name: shell
            purpose: "Astro container application"
            package: "apps/shell"
            team_label: "team:shell"
            dependencies: [ui, ts-schema]
            status: active
          - name: ui
            purpose: "Shared component library"
            package: "packages/ui"
            team_label: "team:ui"
            dependencies: []
            consumers: [shell]
            status: active

      backend:
        purpose: "API and services layer"
        meta: true
        type: meta
        modules:
          - name: core-api
            purpose: "Primary Fastify API service"
            package: "services/core-api"
            team_label: "team:core-api"
            dependencies: [ts-schema]
            status: active

      shared:
        purpose: "Cross-module contracts and types"
        meta: true
        type: meta
        modules:
          - name: ts-schema
            purpose: "TypeScript types and Zod schemas"
            package: "packages/ts-schema"
            team_label: "team:ts-schema"
            dependencies: []
            consumers: [core-api, shell]
            status: active

  # ---------------------------------------------------------------------------
  # USER-FACING CATEGORIES
  # ---------------------------------------------------------------------------
  strategy:
    purpose: "Business strategy and clarity"
    meta: false
    subcategories: {}  # To be defined when building Strategy category

  marketing:  # RENAMED from "brand"
    purpose: "Brand, website, and market presence"
    meta: false
    subcategories: {}  # To be defined when building Marketing category

  sales:
    purpose: "Pipeline and revenue generation"
    meta: false
    subcategories: {}  # To be defined when building Sales category

  finance:
    purpose: "Money management and compliance"
    meta: false
    subcategories: {}  # To be defined when building Finance category

  operations:
    purpose: "Day-to-day business operations"
    meta: false
    subcategories: {}  # To be defined when building Operations category

  team:
    purpose: "People and organizational management"
    meta: false
    subcategories: {}  # To be defined when building Team category

  legal:
    purpose: "Contracts, compliance, and entity management"
    meta: false
    subcategories: {}  # To be defined when building Legal category

# =============================================================================
# NAVIGATION GUIDE
# =============================================================================
#
# When starting a session, agents should:
# 1. Read this manifest to understand the structure
# 2. Ask: "Which category and sub-category are you working on?"
# 3. Navigate to docs/{category}/{subcategory}/
# 4. If working on a specific module, navigate to docs/{category}/{subcategory}/{module}/
#
# Example session start:
#   Agent: "Which area are you working on?"
#   User: "core-api"
#   Agent: "Working in platform/backend/core-api for this session."

# =============================================================================
# STANDARD FOLDER STRUCTURE
# =============================================================================
#
# Sub-category level (has its own product strategy):
# docs/{category}/{subcategory}/
# ├── README.md              # Sub-category overview
# ├── prd.md                 # Sub-category requirements
# ├── architecture.md        # Technical decisions
# ├── epics.md               # Implementation roadmap (optional)
# └── {module}/              # Individual modules (if any)
#
# Module level (implementation unit):
# docs/{category}/{subcategory}/{module}/
# ├── README.md              # Module overview
# ├── sprint-artifacts/      # Implementation tracking
# │   ├── sprint-status.yaml
# │   └── {story-files}.md
# └── interfaces/            # Public contracts
